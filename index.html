<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Effect</title>

    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Effect</title>

    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        a {
            color: #fff;
            text-decoration: none;
        }
        body {
            color: #fff;
            font-family: "NexonLv1Gothic";
            font-weight: 300;
            background-color: #111;
        }
        #parallax__title {
            position: fixed;
            left: 20px;
            top: 20px;
            z-index: 1000;
        }
        #parallax__title h1 {
            font-size: 30px;
            border-bottom: 1px dashed #fff;
            margin-bottom: 10px;
            padding-bottom: 5px;
            font-weight: 400;
            display: inline-block;
        }
        #parallax__title p {
            font-size: 16px;
        }
        #parallax__title ul {
            margin-top: 10px;
        }
        #parallax__title li {
            display: inline;
        }
        #parallax__title li a {
            width: 20px; 
            height: 20px;
            border-radius: 50%;
            border: 1px dashed #fff;
            display: inline-block;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
        }
        #parallax__title li.active a {
            background: #fff;
            color: #000;
        }

        /* parallax__cont */
        #parallax__cont {
            overflow: hidden;
        }
        .parallax__item {
            width: 100%;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .parallax__item:nth-child(2n){
            background-color: #222;
        }
        .parallax__item__num {
            position: absolute;
            right: 20px;
            bottom: 20px;
            font-size: 5vw;
            line-height: 1;
        }
        .parallax__item__img {
            width: 10vw;
            height: 10vw;
            background-color: #fff;
            background-size: cover;
            background-position: center;
        }
        .parallax__item:nth-child(1) .parallax__item__img {
            background-image: url(assets/img/images14.jpg);
        }
        .parallax__item:nth-child(2) .parallax__item__img {
            background-image: url(assets/img/images15.jpg);
        }
        .parallax__item:nth-child(3) .parallax__item__img {
            background-image: url(assets/img/images03.jpg);
        }
        .parallax__item:nth-child(4) .parallax__item__img {
            background-image: url(assets/img/images04.jpg);
        }
        .parallax__item:nth-child(5) .parallax__item__img {
            background-image: url(assets/img/images05.jpg);
        }
        .parallax__item:nth-child(6) .parallax__item__img {
            background-image: url(assets/img/images06.jpg);
        }
        .parallax__item:nth-child(7) .parallax__item__img {
            background-image: url(assets/img/images07.jpg);
        }
        .parallax__item:nth-child(8) .parallax__item__img {
            background-image: url(assets/img/images08.jpg);
        }
        .parallax__item:nth-child(9) .parallax__item__img {
            background-image: url(assets/img/images09.jpg);
        }
        .parallax__item__img.active {
            filter: hue-rotate(100deg);
        }
    </style>
</head>
<body>
    <header id="parallax__title">
        <h1>GSAP Parallax Effect01</h1>
        <p>GSAP scrollTrigger - 애니메이션 기본 효과</p>
        <ul>
            <li class="active"><a href="index01.html">1</a></li>
            <li><a href="index02.html">2</a></li>
            <li><a href="index03.html">3</a></li>
            <li><a href="index04.html">4</a></li>
            <li><a href="index05.html">5</a></li>
            <li><a href="index06.html">6</a></li>
            <li><a href="index07.html">7</a></li>
            <li><a href="index08.html">8</a></li>
            <li><a href="index09.html">9</a></li>
            <li><a href="index10.html">10</a></li>
            <li><a href="index11.html">11</a></li>
            <li><a href="index12.html">12</a></li>
            <li><a href="index13.html">13</a></li>
            <li><a href="index14.html">14</a></li>
            <li><a href="index15.html">15</a></li>
        </ul>
    </header>
    <!-- //parallax__title  -->

    <main id="parallax__cont">
        <section id="section1" class="parallax__item">
            <span class="parallax__item__num">01</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section1 -->

        <section id="section2" class="parallax__item">
            <span class="parallax__item__num">02</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section2 -->

        <section id="section3" class="parallax__item">
            <span class="parallax__item__num">03</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section3 -->

        <section id="section4" class="parallax__item">
            <span class="parallax__item__num">04</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section4 -->

        <section id="section5" class="parallax__item">
            <span class="parallax__item__num">05</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section5 -->

        <section id="section6" class="parallax__item">
            <span class="parallax__item__num">06</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section6 -->

        <section id="section7" class="parallax__item">
            <span class="parallax__item__num">07</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section7 -->

        <section id="section8" class="parallax__item">
            <span class="parallax__item__num">08</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section8 -->

        <section id="section9" class="parallax__item">
            <span class="parallax__item__num">09</span>
            <div class="parallax__item__img"></div>
        </section>
        <!-- //section9 -->
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
    <script>
        const box1 = document.querySelector("#section1 .parallax__item__img");
        const box2 = document.querySelector("#section2 .parallax__item__img");
        const box3 = document.querySelector("#section3 .parallax__item__img");
        const box4 = document.querySelector("#section4 .parallax__item__img");
        const box5 = document.querySelector("#section5 .parallax__item__img");
        const box6 = document.querySelector("#section6 .parallax__item__img");
        const box7 = document.querySelector("#section7 .parallax__item__img");
        const box8 = document.querySelector("#section8 .parallax__item__img");
        const box9 = document.querySelector("#section9 .parallax__item__img");

        //01
        gsap.to(box1, {
            x: 500,
            // duration: 애니메이션 시간, 속도 조절
            duration: 2,
            borderRadius: 100,
            rotation: 360,
        });

        //02: trigger 
        gsap.to(box2, {
            duration: 2,
            x: 500,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box2,
            }
        });

        //03: toggle
        gsap.to(box3, {
            duration: 2,
            x: 500,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box3,
                //toggleActions: "onEnter, onLeave, onEnterBack, onLeaveBack"
                //""에 들어가는 종류로는 play(트리거 애니메이션 실행), 
                //pause(트리거 애니메이션 일시 중지), 
                //reset(트리거 애니메이션 처음부터 다시 시작),
                //complete(트리거 애니메이션 완료 상태로 설정 --트리거에서 벗어나거나 다시 돌아와도 애니메이션이 끝난 상태로 유지),
                //resume(트리거 애니메이션 일시 중지 후 다시 재개), 
                //reverse(트리거 애니메이션 역방향 재생), 
                //restart(트리거 애니메이션 처음부터 다시 시작), 
                //none(아무 작업도 수행하지 않음)
                toggleActions: "play none reverse none"
            }
        })

        //04: start, end
        gsap.to(box4, {
            duration: 2,
            x: -1000,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box4,
                start: "top 50%",
                end: "bottom 20%",
                toggleActions: "play reverse play reverse",
                //markers: 시작과 끝을 나타내는 마커가 표시됨
                markers: false,
            }
        })

        //05: scrub
        gsap.to(box5, {
            duration: 2,
            x: 1000,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box5,
                start: "top 50%",
                end: "bottom 20%",
                //scrub: 스크롤에 따라 부드럽게 동기화되도록 만드는 옵션(애니메이션을 스크롤에 동기화)
                //숫자가 높을 수록 부드럽게 이어지는 느낌인 것 같음
                scrub: 1, // true, 1, 2, 3, ...
                markers: false
            }
        })

        //06: pin
        gsap.to(box6, {
            duration: 2,
            x: 500,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box6,
                start: "top center",
                end: "top 20%",
                scrub: 1, 
                //pin: 스크롤 트리거가 활성되면서 요소가 화면에 고정 --고정된 상태는 트리거가 끝날 때까지 유지됨
                pin: true, 
                markers: true
            }
        })

        //07: toggleClass
        gsap.to(box7, {
            duration: 2,
            x: 500,
            rotation: 360,
            borderRadius: 100,
            scrollTrigger: {
                trigger: box7,
                start: "top center",
                end: "bottom 20%",
                scrub: true,
                //toggleClass: id에 class를 추가하고 제거하면서 toggle 작동됨
                toggleClass: "active",
                markers: false,
                id: "box7"
            }
        })

        //08: callBack
        gsap.to(box8, {
            duration: 2,
            x: -800,
            rotation: 360,
            scrollTrigger: {
                trigger: box8,
                start: "top center",
                end: "bottom: 30%",
                scrub: 1,
                markers: false,
                //onEnter: 스크롤 트리거가 뷰포트에 들어올 때 실행(요소가 화면에 나타나기 시작할 때 호출)
                //onLeave: 스크롤 트리거가 뷰포트에서 벗어날 때 실행(요소의 이동이 완전히 끝날 때 호출)
                //onEnterBack: 반대 방향으로 스크롤되어 트리거가 다시 뷰포트에 들어올 때 실행(요소가 화면 아래에서 위로 나타날 때 호출)
                //onLeaveBack: 스크롤 트리거가 업데이트될 때마다 실행(요소가 화면 위에서 아래로 사라질 때 호출)
                //onToggle: 스크롤 트리거가 활성화되거나 비활성화될 때 실행(트리거의 활성 상태 변화에 따라 호출)
                //onUpdate: 스크롤 트리거가 업데이트 될 때마다 실행(스크롤 할 때마다 계속해서 실행) --스크롤이 진행되는 동안 특정 작업(예: 애니메이션 업데이트 / 스크롤 진행도 표시 등)에 유용 ... 스크롤이 이동하면서 애니메이션 진행 상태를 실시간으로 업데이트하거나 스크롤에 따라 어떤 동작을 수행하고 싶을 때 사용하면 됨
                onEnter: () => {console.log("onEnter")},
                onLeave: () => {console.log("onLeave")},
                onEnterBack: () => {console.log("onEnterBack")},
                onLeaveBack: () => {console.log("onLeaveBack")},
                onToggle: (self) => {console.log("onToggle", self.isActive)},
                onUpdate: (self) => {console.log("onUpdate", self.progress.toFixed(3))},
            }
        })
    </script>
</body>

</html>